<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>mariet</title>
  <link rel="icon" href="./favicon.png" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;1,300&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="./assets/css/main.css" />
</head>

<body>
  <partial src="_header.html"></partial>
  <h1 class="projects_title">projects.</h1>
  <main class="projects_container">
    <ul>
      <li>
        <h3><span>título_</span> Naturalis Safari Botánico</h3>
        <div class="projects_picture" id="naturalis"></div>
        <div class="projects_buttons">
          <span onclick="openSlider('imagesNaturalis')">JPG</span>
          <span>TXT</span>
          <a href="https://mariet-projects.github.io/naturalis/" target="_blank">WEB</a>
        </div>
        <div class="projects_info">
          <p>date_<span> 2019</span></p>
          <p>city_<span> Madrid</span></p>
        </div>
        <h4>Trabajo Final del Máster Habilitante de Arquitectura por la E.T.S.A.M</h4>
      </li>
      <li>
        <h3><span>título_</span> Casa para Inés</h3>
        <div class="projects_picture" id="ines-house"></div>
        <div class="projects_buttons">
          <span onclick="openSlider('imagesInes')">JPG</span>
        </div>
        <div class="projects_info">
          <p>date_<span> 2019</span></p>
          <p>city_<span> Madrid</span></p>
        </div>
        <h4>Propuesta para la reforma de una ganga en idealista para inés.</h4>
      </li>
      <li>
        <h3><span>título_</span> Safe House</h3>
        <div class="projects_picture" id="safe-house"></div>
        <div class="projects_buttons">
          <span onclick="openSlider('imagesSafe')">JPG</span>
        </div>
        <div class="projects_info">
          <p>date_<span> 2019</span></p>
          <p>city_<span> Livingstone, Zambia</span></p>
        </div>
        <h4>Diseño y construcción para la ONG KUBUKA de una casa para 25 niñas en riesgo de exclusión</h4>
      </li>
      <li>
        <h3><span>título_</span> Piso compartido</h3>
        <div class="projects_picture" id="shared-flat"></div>
        <div class="projects_buttons">
          <span onclick="openSlider('imagesEg')">JPG</span>
        </div>
        <div class="projects_info">
          <p>date_<span> 2020</span></p>
          <p>city_<span> Palma</span></p>
        </div>
        <h4>Propuesta para dividir una casa de dos plantas en pisos para compartir</h4>
      </li>
    </ul>
  </main>
  <div class="slider-container d-none">
    <div id="slider-background" onclick="closeSlider()"></div>
    <div id="slider">
      <button class="control_close" onclick="closeSlider()"></button>
      <button class="control_next" onclick="changeSlide('next')"></button>
      <div id="slide"></div>
      <button class="control_prev" onclick="changeSlide('prev')"></button>
    </div>
  </div>

  <script>
    let i = 0;
    const slides = {
      imagesInes: ['casa-ines-0.png', 'casa-ines-1.png', 'casa-ines-2.png', 'casa-ines-3.png', 'casa-ines-4.png'],
      imagesSafe: ['safe-house.png'],
      imagesEg: ['EG-01.png', 'EG-02.png'],
      imagesNaturalis: ['que-es.png'],
    };
    let chosenProject;
    function openSlider(project) {
      document.querySelector('.slider-container').classList.remove('d-none');
      document.getElementById('slide').style.backgroundImage = "url('./assets/images/" + slides[project][i] + "')";
      chosenProject = project;
      console.log(project);
    }

    function closeSlider() {
      document.querySelector('.slider-container').classList.add('d-none');
      chosenProject = '';
      i = 0;
    }

    function changeSlide(way) {
      if (way === 'next') {
        i < (slides[chosenProject].length - 1) ? i++ : i = 0;
      } else {
        i === 0 ? i = slides[chosenProject].length - 1 : i--;
      }
      document.getElementById('slide').style.backgroundImage = "url('./assets/images/" + slides[chosenProject][i] + "')";
    }
  </script>
</body>

</html>